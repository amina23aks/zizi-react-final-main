{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\BAB AL SAFA\\\\Desktop\\\\zizi react\\\\src\\\\components\\\\GiftBox.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport './'; // Use your original styles.css\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction GiftBox() {\n  _s();\n  const [opened, setOpened] = useState(false);\n  const canvasRef = useRef(null);\n  const animationRef = useRef(null);\n  useEffect(() => {\n    if (opened) {\n      startAnimation();\n      animationRef.current.classList.add('visible');\n      animationRef.current.classList.remove('hidden');\n    } else {\n      animationRef.current.classList.remove('visible');\n      animationRef.current.classList.add('hidden');\n    }\n  }, [opened]);\n  const startAnimation = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const w = canvas.width = 300;\n    const h = canvas.height = 200;\n    const opts = {\n      strings: ['HAPPY', 'BIRTHDAY!'],\n      charSize: 16,\n      charSpacing: 20,\n      lineHeight: 25,\n      cx: w / 2,\n      cy: h / 2,\n      gravity: 0.08,\n      upFlow: -0.1\n    };\n    const Tau = Math.PI * 2;\n    const letters = [];\n    ctx.font = opts.charSize + 'px Verdana';\n    function Letter(char, x, y) {\n      this.char = char;\n      this.x = x;\n      this.y = y;\n      this.phase = 'firework';\n      this.tick = 0;\n      this.spawned = false;\n      this.spawningTime = Math.random() * 200;\n      this.reachTime = 30 + Math.random() * 30;\n      this.fireworkDy = this.y - h / 2;\n      this.color = `hsl(${Math.random() * 360}, 80%, 50%)`;\n    }\n    Letter.prototype.step = function () {\n      if (this.phase === 'firework') {\n        if (!this.spawned) {\n          if (++this.tick >= this.spawningTime) {\n            this.tick = 0;\n            this.spawned = true;\n          }\n        } else {\n          ++this.tick;\n          const linearProportion = this.tick / this.reachTime;\n          const armonicProportion = Math.sin(linearProportion * Tau / 4);\n          const x = linearProportion * this.x;\n          const y = h / 2 + armonicProportion * this.fireworkDy;\n          ctx.fillStyle = this.color;\n          ctx.fillText(this.char, x - ctx.measureText(this.char).width / 2, y);\n          if (this.tick >= this.reachTime) {\n            this.phase = 'done';\n          }\n        }\n      }\n    };\n    function initFireworks() {\n      ctx.clearRect(0, 0, w, h);\n      letters.length = 0;\n      for (let i = 0; i < opts.strings.length; i++) {\n        for (let j = 0; j < opts.strings[i].length; j++) {\n          letters.push(new Letter(opts.strings[i][j], j * opts.charSpacing + opts.charSpacing / 2 - opts.strings[i].length * opts.charSize / 2, i * opts.lineHeight + opts.lineHeight / 2 - opts.strings.length * opts.lineHeight / 2));\n        }\n      }\n      animate();\n    }\n    function animate() {\n      ctx.clearRect(0, 0, w, h);\n      ctx.save();\n      ctx.translate(w / 2, h / 2);\n      let done = true;\n      for (let i = 0; i < letters.length; i++) {\n        letters[i].step();\n        if (letters[i].phase !== 'done') done = false;\n      }\n      ctx.restore();\n      if (!done) requestAnimationFrame(animate);\n    }\n    initFireworks();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"giftcontainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"checkbox\",\n      id: \"click\",\n      checked: opened,\n      onChange: () => setOpened(!opened)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"click\",\n      className: \"click\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gift\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: animationRef,\n      className: \"animation-section hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n_s(GiftBox, \"o+cJheiTp2HJfZUu/sovP1OMXug=\");\n_c = GiftBox;\nexport default GiftBox;\nvar _c;\n$RefreshReg$(_c, \"GiftBox\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","GiftBox","_s","opened","setOpened","canvasRef","animationRef","startAnimation","current","classList","add","remove","canvas","ctx","getContext","w","width","h","height","opts","strings","charSize","charSpacing","lineHeight","cx","cy","gravity","upFlow","Tau","Math","PI","letters","font","Letter","char","x","y","phase","tick","spawned","spawningTime","random","reachTime","fireworkDy","color","prototype","step","linearProportion","armonicProportion","sin","fillStyle","fillText","measureText","initFireworks","clearRect","length","i","j","push","animate","save","translate","done","restore","requestAnimationFrame","className","children","type","id","checked","onChange","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","ref","_c","$RefreshReg$"],"sources":["C:/Users/BAB AL SAFA/Desktop/zizi react/src/components/GiftBox.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport './'; // Use your original styles.css\r\n\r\nfunction GiftBox() {\r\n  const [opened, setOpened] = useState(false);\r\n  const canvasRef = useRef(null);\r\n  const animationRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (opened) {\r\n      startAnimation();\r\n      animationRef.current.classList.add('visible');\r\n      animationRef.current.classList.remove('hidden');\r\n    } else {\r\n      animationRef.current.classList.remove('visible');\r\n      animationRef.current.classList.add('hidden');\r\n    }\r\n  }, [opened]);\r\n\r\n  const startAnimation = () => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    const w = (canvas.width = 300);\r\n    const h = (canvas.height = 200);\r\n\r\n    const opts = {\r\n      strings: ['HAPPY', 'BIRTHDAY!'],\r\n      charSize: 16,\r\n      charSpacing: 20,\r\n      lineHeight: 25,\r\n      cx: w / 2,\r\n      cy: h / 2,\r\n      gravity: 0.08,\r\n      upFlow: -0.1,\r\n    };\r\n\r\n    const Tau = Math.PI * 2;\r\n    const letters = [];\r\n\r\n    ctx.font = opts.charSize + 'px Verdana';\r\n\r\n    function Letter(char, x, y) {\r\n      this.char = char;\r\n      this.x = x;\r\n      this.y = y;\r\n      this.phase = 'firework';\r\n      this.tick = 0;\r\n      this.spawned = false;\r\n      this.spawningTime = Math.random() * 200;\r\n      this.reachTime = 30 + Math.random() * 30;\r\n      this.fireworkDy = this.y - h / 2;\r\n      this.color = `hsl(${Math.random() * 360}, 80%, 50%)`;\r\n    }\r\n\r\n    Letter.prototype.step = function () {\r\n      if (this.phase === 'firework') {\r\n        if (!this.spawned) {\r\n          if (++this.tick >= this.spawningTime) {\r\n            this.tick = 0;\r\n            this.spawned = true;\r\n          }\r\n        } else {\r\n          ++this.tick;\r\n          const linearProportion = this.tick / this.reachTime;\r\n          const armonicProportion = Math.sin(linearProportion * Tau / 4);\r\n          const x = linearProportion * this.x;\r\n          const y = h/2 + armonicProportion * this.fireworkDy;\r\n          ctx.fillStyle = this.color;\r\n          ctx.fillText(this.char, x - ctx.measureText(this.char).width / 2, y);\r\n          if (this.tick >= this.reachTime) {\r\n            this.phase = 'done';\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    function initFireworks() {\r\n      ctx.clearRect(0, 0, w, h);\r\n      letters.length = 0;\r\n      for (let i = 0; i < opts.strings.length; i++) {\r\n        for (let j = 0; j < opts.strings[i].length; j++) {\r\n          letters.push(new Letter(\r\n            opts.strings[i][j],\r\n            j * opts.charSpacing + opts.charSpacing / 2 - (opts.strings[i].length * opts.charSize) / 2,\r\n            i * opts.lineHeight + opts.lineHeight / 2 - (opts.strings.length * opts.lineHeight) / 2\r\n          ));\r\n        }\r\n      }\r\n      animate();\r\n    }\r\n\r\n    function animate() {\r\n      ctx.clearRect(0, 0, w, h);\r\n      ctx.save();\r\n      ctx.translate(w / 2, h / 2);\r\n\r\n      let done = true;\r\n      for (let i = 0; i < letters.length; i++) {\r\n        letters[i].step();\r\n        if (letters[i].phase !== 'done') done = false;\r\n      }\r\n\r\n      ctx.restore();\r\n      if (!done) requestAnimationFrame(animate);\r\n    }\r\n\r\n    initFireworks();\r\n  };\r\n\r\n  return (\r\n    <div className=\"giftcontainer\">\r\n      <input\r\n        type=\"checkbox\"\r\n        id=\"click\"\r\n        checked={opened}\r\n        onChange={() => setOpened(!opened)}\r\n      />\r\n      <label htmlFor=\"click\" className=\"click\"></label>\r\n      <div className=\"gift\"></div>\r\n\r\n      <div ref={animationRef} className=\"animation-section hidden\">\r\n        <canvas ref={canvasRef}></canvas>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GiftBox;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}