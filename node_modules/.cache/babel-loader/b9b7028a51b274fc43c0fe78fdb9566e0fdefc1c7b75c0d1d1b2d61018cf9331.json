{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\BAB AL SAFA\\\\Desktop\\\\zizi react\\\\src\\\\components\\\\GiftBox.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport './GiftBox.css'; // Make sure your styles are included here\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction GiftBox() {\n  _s();\n  const [opened, setOpened] = useState(false);\n  const canvasRef = useRef(null);\n  const animationSectionRef = useRef(null);\n  useEffect(() => {\n    if (opened) {\n      startFireworks();\n      animationSectionRef.current.classList.remove('hidden');\n      animationSectionRef.current.classList.add('visible');\n    } else {\n      animationSectionRef.current.classList.remove('visible');\n      animationSectionRef.current.classList.add('hidden');\n    }\n  }, [opened]);\n  const startFireworks = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const w = canvas.width = 300;\n    const h = canvas.height = 200;\n    let hw = w / 2;\n    let hh = h / 2;\n    const opts = {\n      strings: ['HAPPY', 'BIRTHDAY!'],\n      charSize: 16,\n      charSpacing: 20,\n      lineHeight: 25,\n      cx: w / 2,\n      cy: h / 2,\n      gravity: 0.08,\n      upFlow: -0.1\n    };\n    const Tau = Math.PI * 2;\n    const letters = [];\n    ctx.font = opts.charSize + 'px Verdana';\n    function Letter(char, x, y) {\n      this.char = char;\n      this.x = x;\n      this.y = y;\n      this.phase = 'firework';\n      this.tick = 0;\n      this.spawned = false;\n      this.spawningTime = Math.random() * 200;\n      this.reachTime = 30 + Math.random() * 30;\n      this.fireworkDy = this.y - hh;\n      this.color = `hsl(${Math.random() * 360}, 80%, 50%)`;\n      this.prevPoints = [[0, hh, 0]];\n    }\n    Letter.prototype.step = function () {\n      if (this.phase === 'firework') {\n        if (!this.spawned) {\n          if (++this.tick >= this.spawningTime) {\n            this.tick = 0;\n            this.spawned = true;\n          }\n        } else {\n          ++this.tick;\n          const linearProportion = this.tick / this.reachTime;\n          const armonicProportion = Math.sin(linearProportion * Tau / 4);\n          const x = linearProportion * this.x;\n          const y = hh + armonicProportion * this.fireworkDy;\n          ctx.fillStyle = this.color;\n          ctx.fillText(this.char, x - ctx.measureText(this.char).width / 2, y);\n          if (this.tick >= this.reachTime) {\n            this.phase = 'done';\n          }\n        }\n      }\n    };\n    function initFireworks() {\n      ctx.clearRect(0, 0, w, h);\n      letters.length = 0;\n      for (let i = 0; i < opts.strings.length; i++) {\n        for (let j = 0; j < opts.strings[i].length; j++) {\n          letters.push(new Letter(opts.strings[i][j], j * opts.charSpacing + opts.charSpacing / 2 - opts.strings[i].length * opts.charSize / 2, i * opts.lineHeight + opts.lineHeight / 2 - opts.strings.length * opts.lineHeight / 2));\n        }\n      }\n      animate();\n    }\n    function animate() {\n      ctx.clearRect(0, 0, w, h);\n      ctx.save();\n      ctx.translate(hw, hh);\n      let done = true;\n      for (let i = 0; i < letters.length; i++) {\n        letters[i].step();\n        if (letters[i].phase !== 'done') done = false;\n      }\n      ctx.restore();\n      if (!done) requestAnimationFrame(animate);\n    }\n    initFireworks();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"gift-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gift\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"click\",\n        checked: opened,\n        onChange: () => setOpened(!opened)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"click\",\n        className: \"click\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"animation-section\",\n      ref: animationSectionRef,\n      className: \"animation-section hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        id: \"c\",\n        ref: canvasRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n}\n_s(GiftBox, \"WEuQVzUA0S+hBrT8unwdj6Jlx6o=\");\n_c = GiftBox;\nexport default GiftBox;\nvar _c;\n$RefreshReg$(_c, \"GiftBox\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","GiftBox","_s","opened","setOpened","canvasRef","animationSectionRef","startFireworks","current","classList","remove","add","canvas","ctx","getContext","w","width","h","height","hw","hh","opts","strings","charSize","charSpacing","lineHeight","cx","cy","gravity","upFlow","Tau","Math","PI","letters","font","Letter","char","x","y","phase","tick","spawned","spawningTime","random","reachTime","fireworkDy","color","prevPoints","prototype","step","linearProportion","armonicProportion","sin","fillStyle","fillText","measureText","initFireworks","clearRect","length","i","j","push","animate","save","translate","done","restore","requestAnimationFrame","className","children","type","id","checked","onChange","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","ref","_c","$RefreshReg$"],"sources":["C:/Users/BAB AL SAFA/Desktop/zizi react/src/components/GiftBox.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport './GiftBox.css'; // Make sure your styles are included here\r\n\r\nfunction GiftBox() {\r\n  const [opened, setOpened] = useState(false);\r\n  const canvasRef = useRef(null);\r\n  const animationSectionRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (opened) {\r\n      startFireworks();\r\n      animationSectionRef.current.classList.remove('hidden');\r\n      animationSectionRef.current.classList.add('visible');\r\n    } else {\r\n      animationSectionRef.current.classList.remove('visible');\r\n      animationSectionRef.current.classList.add('hidden');\r\n    }\r\n  }, [opened]);\r\n\r\n  const startFireworks = () => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    const w = (canvas.width = 300);\r\n    const h = (canvas.height = 200);\r\n    let hw = w / 2;\r\n    let hh = h / 2;\r\n\r\n    const opts = {\r\n      strings: ['HAPPY', 'BIRTHDAY!'],\r\n      charSize: 16,\r\n      charSpacing: 20,\r\n      lineHeight: 25,\r\n      cx: w / 2,\r\n      cy: h / 2,\r\n      gravity: 0.08,\r\n      upFlow: -0.1,\r\n    };\r\n\r\n    const Tau = Math.PI * 2;\r\n    const letters = [];\r\n\r\n    ctx.font = opts.charSize + 'px Verdana';\r\n\r\n    function Letter(char, x, y) {\r\n      this.char = char;\r\n      this.x = x;\r\n      this.y = y;\r\n      this.phase = 'firework';\r\n      this.tick = 0;\r\n      this.spawned = false;\r\n      this.spawningTime = Math.random() * 200;\r\n      this.reachTime = 30 + Math.random() * 30;\r\n      this.fireworkDy = this.y - hh;\r\n      this.color = `hsl(${Math.random() * 360}, 80%, 50%)`;\r\n      this.prevPoints = [[0, hh, 0]];\r\n    }\r\n\r\n    Letter.prototype.step = function () {\r\n      if (this.phase === 'firework') {\r\n        if (!this.spawned) {\r\n          if (++this.tick >= this.spawningTime) {\r\n            this.tick = 0;\r\n            this.spawned = true;\r\n          }\r\n        } else {\r\n          ++this.tick;\r\n          const linearProportion = this.tick / this.reachTime;\r\n          const armonicProportion = Math.sin(linearProportion * Tau / 4);\r\n          const x = linearProportion * this.x;\r\n          const y = hh + armonicProportion * this.fireworkDy;\r\n          ctx.fillStyle = this.color;\r\n          ctx.fillText(this.char, x - ctx.measureText(this.char).width / 2, y);\r\n          if (this.tick >= this.reachTime) {\r\n            this.phase = 'done';\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    function initFireworks() {\r\n      ctx.clearRect(0, 0, w, h);\r\n      letters.length = 0;\r\n      for (let i = 0; i < opts.strings.length; i++) {\r\n        for (let j = 0; j < opts.strings[i].length; j++) {\r\n          letters.push(new Letter(\r\n            opts.strings[i][j],\r\n            j * opts.charSpacing + opts.charSpacing / 2 - (opts.strings[i].length * opts.charSize) / 2,\r\n            i * opts.lineHeight + opts.lineHeight / 2 - (opts.strings.length * opts.lineHeight) / 2\r\n          ));\r\n        }\r\n      }\r\n      animate();\r\n    }\r\n\r\n    function animate() {\r\n      ctx.clearRect(0, 0, w, h);\r\n      ctx.save();\r\n      ctx.translate(hw, hh);\r\n\r\n      let done = true;\r\n      for (let i = 0; i < letters.length; i++) {\r\n        letters[i].step();\r\n        if (letters[i].phase !== 'done') done = false;\r\n      }\r\n\r\n      ctx.restore();\r\n      if (!done) requestAnimationFrame(animate);\r\n    }\r\n\r\n    initFireworks();\r\n  };\r\n\r\n  return (\r\n    <div className=\"gift-container\">\r\n      <div className=\"gift\">\r\n        <input\r\n          type=\"checkbox\"\r\n          id=\"click\"\r\n          checked={opened}\r\n          onChange={() => setOpened(!opened)}\r\n        />\r\n        <label htmlFor=\"click\" className=\"click\"></label>\r\n      </div>\r\n\r\n      <div\r\n        id=\"animation-section\"\r\n        ref={animationSectionRef}\r\n        className=\"animation-section hidden\"\r\n      >\r\n        <canvas id=\"c\" ref={canvasRef}></canvas>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GiftBox;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}